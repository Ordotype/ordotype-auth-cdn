!function(){"use strict";const e="memberstack.logout",t="memberstack.login",a="memberstack.validSession",o="memberstack.signUp",r=e=>{const t=new CustomEvent(a,{bubbles:!1,cancelable:!1,detail:{isStatusValid:e}});document.dispatchEvent(t)};class i extends Error{constructor(e,t=500,a){super(e),this.code=a,this.name="AuthError",this.status=t,Error.captureStackTrace&&Error.captureStackTrace(this,i)}status}class s extends Error{data;type;code;constructor(e,t,a){super(e),this.name="TwoFactorRequiredError",this.data=t,this.type=a,this.code="TWO_FACTOR_REQUIRED"}}class n extends i{constructor(e="User already exists"){super(e,409,"USER_ALREADY_EXISTS"),this.name="UserAlreadyExistsError",Object.setPrototypeOf(this,n.prototype)}}class c extends i{constructor(e="User is unauthorized"){super(e,401,"USER_UNAUTHORIZED"),this.name="UserUnauthorized",Object.setPrototypeOf(this,c.prototype)}}class d extends i{constructor(e="User is invalid"){super(e,400,"USER_INVALID"),this.name="UserInvalid",Object.setPrototypeOf(this,d.prototype)}}class l extends i{constructor(e="Use Social Login"){super(e,400,"USER_SOCIAL_LOGIN"),this.name="UserSocialLogin",Object.setPrototypeOf(this,l.prototype)}}class u extends i{constructor(e="User is forbidden"){super(e,403,"USER_FORBIDDEN"),this.name="UserForbiddenError",Object.setPrototypeOf(this,u.prototype)}}class m extends i{constructor(e="An error occurred during authentication",t=500){super(e,t,"GENERIC_AUTH_ERROR"),this.name="GenericAuthError",Object.setPrototypeOf(this,m.prototype)}}function h(e){return"data"in e&&"object"==typeof e.data&&"type"in e}function w(e){return"email"in e&&"password"in e}class p extends Error{constructor(e,t,a,o){super(e),this.status=t,this.code=a,this.response=o,this.name="HttpError"}static async fromResponse(e){const t=await e.text();try{const a=JSON.parse(t);return new p(a.message||e.statusText,e.status,a.code,a)}catch{return new p(e.statusText,e.status)}}}function g(e){return"provider"in e}function f(e){return"email"in e&&"password"in e}function v(e){const t=e.cloneNode(!0);return e.parentNode&&e.parentNode.replaceChild(t,e),t}const y=new class{getItem(e){return localStorage.getItem(e)}setItem(e,t){localStorage.setItem(e,t)}removeItem(e){localStorage.removeItem(e)}hasItem(e){return null!==localStorage.getItem(e)}getJSON(e){const t=this.getItem(e);return t?JSON.parse(t):null}clear(){localStorage.clear()}};const S=new class{KEYS={MEMBER_ID:"_ms-mid",MEMBER:"_ms-mem"};getMember(){return y.getJSON(this.KEYS.MEMBER)}saveMember({member:e,token:t}){y.setItem(this.KEYS.MEMBER,JSON.stringify(e)),y.setItem(this.KEYS.MEMBER_ID,t)}getAuthToken(){return y.getItem(this.KEYS.MEMBER_ID)}saveAuthToken(e){y.setItem(this.KEYS.MEMBER_ID,e)}hasMember(){return y.hasItem(this.KEYS.MEMBER_ID)}clearAuth(){y.removeItem(this.KEYS.MEMBER),y.removeItem(this.KEYS.MEMBER_ID)}};async function E(e,t){e.preventDefault(),e.stopImmediatePropagation();const a=e.target,o=a.querySelector('[data-ms-member="email"]')?.value,r=a.querySelector('[data-ms-member="password"]')?.value;"signup"===t?await I(a,{email:o,password:r}):"login"===t&&await b(a,{email:o,password:r})}async function b(e,t){let a;if(window.$memberstackDom._showLoader(),g(t))a={provider:t.provider};else{if(!f(t))throw new Error("Invalid form authentication options");a={email:t.email,password:t.password}}try{if(S.hasMember())return await window.$memberstackDom._showMessage("Vous êtes déjà connecté.",!0),void window.$memberstackDom._hideLoader();g(t)?await window.$memberstackDom.loginWithProvider(a):await window.$memberstackDom.loginMemberEmailPassword(a)}catch(o){const e="string"==typeof o?o:o?.message||"Il y a eu une erreur avec votre demande.";window.$memberstackDom._hideLoader(),await window.$memberstackDom._showMessage(e,!0)}}async function I(e,t){const a=function(e){const t={};return e.querySelectorAll("[data-ms-member]").forEach(e=>{const a=e.getAttribute("data-ms-member");a&&!["email","password","new-password","current-password"].includes(a)&&(t[a]=e.value||"")}),t}(e),{freePlan:o,paidPlan:r}=function(e){return{freePlan:e.getAttribute("data-ms-plan")||e.getAttribute("data-ms-plan:add")||e.getAttribute("data-ms-plan:update"),paidPlan:e.getAttribute("data-ms-price:add")}}(e);let i={customFields:a};if(g(t))i={allowLogin:!1,provider:t.provider};else{if(!f(t))throw new Error("Invalid form authentication options");i={email:t.email,password:t.password}}o&&(i.plans=[{planId:o}]);try{window.$memberstackDom._showLoader(),g(t)?await window.$memberstackDom.signupWithProvider({...i,paidPlan:r}):await window.$memberstackDom.signupMemberEmailPassword({...i,paidPlan:r})}catch(s){await async function(e){window.telemetryBeacon.logger({level:"error",message:e?.message||"An auth error occurred",attributes:{error:e}}),await window.$memberstackDom._showMessage(e?.message||"An auth error occurred",!0)}(s),window.$memberstackDom._hideLoader()}}function M(e){const t=e.querySelector("[data-ms-member='email']"),a=e.querySelector("[data-ms-member='password']");t&&(t.type="email"),a&&(a.type="password");const o=async t=>{if(e.hasAttribute("data-ordo-processing"))return t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),!1;e.setAttribute("data-ordo-processing","true"),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation();try{await E(t,"signup")}finally{e.removeAttribute("data-ordo-processing")}return!1};e.addEventListener("submit",o,!0),e.addEventListener("submit",o,!1)}function L(e){const t=e.querySelector("[data-ms-member='email']"),a=e.querySelector("[data-ms-member='password']");t&&(t.type="email"),a&&(a.type="password");const o=t=>e.hasAttribute("data-ordo-processing")?(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),!1):(e.setAttribute("data-ordo-processing","true"),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),Promise.resolve().then(()=>E(t,"login")).finally(()=>{e.removeAttribute("data-ordo-processing")}),!1);e.addEventListener("submit",o,!0),e.addEventListener("submit",o,!1)}function T(e){e?window.telemetryBeacon.setUser(e.id,e.auth.email):window.telemetryBeacon.clearUser()}const A="/challenge,/signup,/login,/successful-login".split(",").map(e=>new RegExp(e));function D(){const e=window.memberstackConfig?.forceProd;return!0===e||"www.ordotype.fr"===location.host}const k=new class{getItem(e){return sessionStorage.getItem(e)}setItem(e,t){sessionStorage.setItem(e,t)}removeItem(e){sessionStorage.removeItem(e)}hasItem(e){return null!==sessionStorage.getItem(e)}getJSON(e){const t=this.getItem(e);return t?JSON.parse(t):null}setJSON(e,t){this.setItem(e,JSON.stringify(t))}clear(){sessionStorage.clear()}};class R{baseUrl;defaultHeaders;maxRetries=3;initialDelayMs=1e3;maxDelayMs=3e4;constructor(e,t={}){this.baseUrl=e,this.defaultHeaders=t}async request(e,t="GET",a=null,o={},r,i=!1){const s=i?this.maxRetries+1:1;for(let c=0;c<s;c++)try{return await this.executeRequest(e,t,a,o,r)}catch(n){const o=c===s-1;if(n instanceof DOMException&&"AbortError"===n.name)throw console.warn("[ApiClient] Request was aborted"),n;if(o||!i||!this.isNetworkError(n))throw n;const r=this.calculateBackoffDelay(c);window.telemetryBeacon.logger({level:"warn",message:`[ApiClient] Retry ${c+1}/${this.maxRetries} in ${Math.ceil(r/1e3)}s`,attributes:{endpoint:e,method:t,body:a,error:n instanceof Error?n.message:"Unknown error"}}),await this.delay(r)}throw new Error("[ApiClient] Unexpected retry loop exit")}async executeRequest(e,t,a,o,r){const i=`${this.baseUrl}/${e}`,s={method:t,headers:{"Content-Type":"application/json",...this.defaultHeaders,...o},...a&&{body:JSON.stringify(a)},signal:r},n=await fetch(i,s);if(!n.ok)throw await p.fromResponse(n);if(204===n.status||!n.body)return null;const c=await n.text();return c?JSON.parse(c):null}calculateBackoffDelay(e){const t=this.initialDelayMs*Math.pow(2,e),a=Math.random()*(.25*t);return Math.min(t+a,this.maxDelayMs)}async delay(e){return new Promise(t=>setTimeout(t,e))}isNetworkError(e){if(e instanceof TypeError)return!0;if(e instanceof Error){return["Failed to fetch","Network request failed","NetworkError","Load failed"].some(t=>e.message.includes(t))}return!1}}const _=function(){const e=D()?"pk_97bbd1213f5b1bd2fc0f":"pk_sb_e80d8429a51c2ceb0530",t=D()?"https://api.ordotype.fr/v1.0.0":"https://staging-api.ordotype.fr/v1.0.0";return new R(t,{"X-Api-Key":e})}(),P="0123456789ABCDEFGHJKMNPQRSTVWXYZ",N=0xffffffffffff;var C,O;(O=C||(C={})).Base32IncorrectEncoding="B32_ENC_INVALID",O.DecodeTimeInvalidCharacter="DEC_TIME_CHAR",O.DecodeTimeValueMalformed="DEC_TIME_MALFORMED",O.EncodeTimeNegative="ENC_TIME_NEG",O.EncodeTimeSizeExceeded="ENC_TIME_SIZE_EXCEED",O.EncodeTimeValueMalformed="ENC_TIME_MALFORMED",O.PRNGDetectFailure="PRNG_DETECT",O.ULIDInvalid="ULID_INVALID",O.Unexpected="UNEXPECTED",O.UUIDInvalid="UUID_INVALID";class x extends Error{constructor(e,t){super(`${t} (${e})`),this.name="ULIDError",this.code=e}}function U(e){const t=Math.floor(32*e())%32;return P.charAt(t)}function $(e){const t=function(){if("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;if("undefined"!=typeof globalThis)return globalThis;return null}(),a=t&&(t.crypto||t.msCrypto)||null;if("function"==typeof a?.getRandomValues)return()=>{const e=new Uint8Array(1);return a.getRandomValues(e),e[0]/256};if("function"==typeof a?.randomBytes)return()=>a.randomBytes(1).readUInt8()/256;throw new x(C.PRNGDetectFailure,"Failed to find a reliable PRNG")}function q(e,t){const a=$();return function(e,t=10){if(isNaN(e))throw new x(C.EncodeTimeValueMalformed,`Time must be a number: ${e}`);if(e>N)throw new x(C.EncodeTimeSizeExceeded,`Cannot encode a time larger than ${N}: ${e}`);if(e<0)throw new x(C.EncodeTimeNegative,`Time must be positive: ${e}`);if(!1===Number.isInteger(e))throw new x(C.EncodeTimeValueMalformed,`Time must be an integer: ${e}`);let a,o="";for(let r=t;r>0;r--)a=e%32,o=P.charAt(a)+o,e=(e-a)/32;return o}(Date.now(),10)+function(e,t){let a="";for(;e>0;e--)a=U(t)+a;return a}(16,a)}const B="ms_session_id";const F=new class{getDeviceId(){if(this.getMsSessionId())return this.getMsSessionId();const e=q();return this.saveMsSessionId(e),e}getMsSessionId(){return y.getItem(B)}saveMsSessionId(e){y.setItem(B,e)}},V=new class{constructor(e,t,a){this.apiClient=e,this.authRepository=t,this.sessionService=a}async validateSessionStatus(){const e=new AbortController,t=this.authRepository.getAuthToken(),a=this.sessionService.getMsSessionId(),o=this.sessionService.getDeviceId();try{return await this.apiClient.request("auth/validate-session-status","POST",null,{Authorization:`Bearer ${t}`,...a&&{"X-Session-Id":a},...o&&{"X-Device-Id":o}},e.signal,!0)}catch(r){if(r instanceof p&&401===r.status)throw new c(r.message);if(r instanceof p&&403===r.status)throw new u(r.message);throw new m(r instanceof Error?r.message:"Session validation failed",500)}}async logout(){const e=this.authRepository.getAuthToken();try{await this.apiClient.request("auth/logout","POST",null,{Authorization:`Bearer ${e}`})}catch(t){if(t instanceof p&&(401===t.status||403===t.status))throw new u(t.message);throw new m(t instanceof Error?t.message:"Logout failed",500)}}async signup(e){try{const t=this.sessionService.getDeviceId(),a={...e,device:t??"unknown"};return await this.apiClient.request("auth/signup","POST",a)}catch(t){if(t instanceof p){if("invalid-email"===t.code)throw new d(t.message);if("invalid-password-to-short"===t.code)throw new d(t.message);if("email-already-in-use"===t.code||409===t.status)throw new n(t.message)}throw new m(t instanceof Error?t.message:"Signup failed",500)}}async login(e){try{const t=this.sessionService.getDeviceId(),a={...e,options:{includeContentGroups:!0,isWebflow:!0},device:t??"unknown"},o=await this.apiClient.request("auth/login","POST",a);if(o&&h(o))throw new s("2fa required",o.data,o.type);return o}catch(t){if(t instanceof s)throw t;if(t instanceof p&&"invalid-credentials"===t.code)throw new c(t.message);if(t instanceof p&&"use-social-login"===t.code)throw new l(t.message);throw new m(t instanceof Error?t.message:"Login failed",500)}}async loginWithProvider(e){try{const t=this.sessionService.getDeviceId(),a={...e,device:t??"unknown"},o=await this.apiClient.request("auth/validate-google-provider","POST",a);if(o&&h(o))throw new s("2fa required",o.data,o.type);return o}catch(t){if(t instanceof s)throw t;throw new m(t instanceof Error?t.message:"Login with provider failed",500)}}}(_,S,F),K=new class{showLoader(){window.$memberstackDom._showLoader()}hideLoader(){window.$memberstackDom._hideLoader()}async showMessage(e,t=!1){await window.$memberstackDom._showMessage(e,t)}},Y=new class{constructor(e){this.uiService=e}navigateTo(e){window.location.href=e}async navigateWithLoader(e,t=700){this.uiService.showLoader(),await new Promise(e=>setTimeout(e,t)),this.navigateTo(e)}}(K),W=new class{KEYS={SESSION:"_ms-2fa-session",EMAIL:"ms_email",TIMER_LEFT:"timer_timeLeft",OTP_TIMER_LEFT:"otp_timer_timeLeft",TIMER:"_ms-2fa-timer",TIMER_START:"_ms-2fa-timer-start"};get2FASession(){return k.getJSON(this.KEYS.SESSION)}save2FASession(e){k.setJSON(this.KEYS.SESSION,e)}getEmail(){return k.getItem(this.KEYS.EMAIL)}saveEmail(e){k.setItem(this.KEYS.EMAIL,e)}getTimerLeft(){const e=k.getItem(this.KEYS.TIMER_LEFT);return e?parseInt(e,10):null}saveTimerLeft(e){k.setItem(this.KEYS.TIMER_LEFT,e.toString())}clearAll(){Object.values(this.KEYS).forEach(e=>{k.removeItem(e)})}has2FASession(){return k.hasItem(this.KEYS.SESSION)}},J=new class{constructor(e,t,a,o,r){this.authService=e,this.authRepository=t,this.navigationService=a,this.uiService=o,this.twoFactorRepository=r}async handleLogin(e){try{let t;t=w(e)?await this.handleEmailPasswordLogin(e):await this.handleProviderLogin(e),t.isTrusted&&await window.telemetryBeacon.trackAsyncSpan({name:"auth/skipping_2fa",op:"auth.skipping_2fa"},()=>{console.log("Skipping 2FA")}),t&&await this.navigationService.navigateWithLoader(t.redirect||"/")}catch(t){await this.handleLoginError(t,e)}}async handleEmailPasswordLogin(e){const t=await this.authService.login(e);return this.authRepository.saveMember({member:t.data.member,token:t.data.tokens.accessToken}),T(t.data.member),{redirect:t.data.member.loginRedirect,member:t.data.member,isTrusted:t.isTrusted}}async handleProviderLogin(e){const t=await this.authService.loginWithProvider({loginResponse:e});return null===t?{redirect:"/",member:null,isTrusted:!1}:(T(t.data.member),{redirect:t.data.member.loginRedirect,member:t.data.member,isTrusted:t.isTrusted})}async handleLoginError(e,t){if(e instanceof s)return void(await this.handle2FARequired(e,t));if(this.isNetworkTimeout(e))return void(await this.handleNetworkTimeout());if(e instanceof i&&500!==e.status)return await this.uiService.showMessage(e.message,!0),void this.uiService.hideLoader();const a=e instanceof Error?e.message:"Il y a eu une erreur avec votre demande.";throw await this.uiService.showMessage(a,!0),this.uiService.hideLoader(),console.error("[Login] Unexpected error:",e),e}async handle2FARequired(e,t){this.authRepository.clearAuth(),this.twoFactorRepository.clearAll();let a="";a=w(t)?t.email:e.data.email||"unknown",this.twoFactorRepository.saveEmail(a),this.twoFactorRepository.save2FASession({data:e.data,type:e.type});const o=(D(),"/membership/connexion-2fa");await this.navigationService.navigateWithLoader(o)}async handleNetworkTimeout(){const e=this.authRepository.getMember();e?.loginRedirect?await this.navigationService.navigateWithLoader(e.loginRedirect):await this.uiService.showMessage("La connexion a pris trop de temps. Veuillez réessayer.",!0),this.uiService.hideLoader()}isNetworkTimeout(e){return"object"==typeof e&&null!==e&&"code"in e&&("ECONNABORTED"===e.code||"ETIMEDOUT"===e.code)}}(V,S,Y,K,W),G=new class{constructor(e,t,a,o){this.authRepository=e,this.uiService=t,this.authService=a,this.navigationService=o}async handleLogout(e){if(this.authRepository.getMember())if(await window.telemetryBeacon.addInfoToActiveSpan({attributes:{member_token:this.authRepository.getAuthToken()?"has_token":"no_token"}}),e)await this.uiService.showMessage("Votre session a expiré. Veuillez vous reconnecter.",!0);else try{this.uiService.showLoader(),await this.authService.logout(),T(null)}catch(t){await this.handleLogoutError(t)}finally{await this.navigationService.navigateWithLoader("/"),this.authRepository.clearAuth(),this.uiService.hideLoader()}else console.log("Member is not logged in.")}async handleLogoutError(e){if(!(e instanceof u))throw await this.uiService.showMessage("Il y a eu une erreur avec votre demande.",!0),console.error("[Logout] Unexpected error:",e),e;console.log("Member is already logged out from the server.")}}(S,K,V,Y),j=new class{constructor(e,t,a){this.authService=e,this.navigationService=t,this.uiService=a}async handleSignup(e,t){try{await this.authService.signup({token:e.data.tokens.accessToken}),T(e.data.member),t?await window.$memberstackDom.purchasePlansWithCheckout({priceId:t}):this.navigationService.navigateTo(e.data.redirect),this.uiService.hideLoader()}catch(a){await this.handleSignupError(a)}}async handleSignupError(e){if(e instanceof i&&500!==e.status)return await this.uiService.showMessage(e.message,!0),void this.uiService.hideLoader();throw await this.uiService.showMessage("Il y a eu une erreur avec votre inscription.",!0),this.uiService.hideLoader(),console.error("[SignUp] Unexpected error:",e),e}}(V,Y,K),z=new class{constructor(e,t){this.authRepository=e,this.authService=t}async dispatchValidateSession(){if(this.authRepository.getMember())try{if(!1===await this.authService.validateSessionStatus())return void(await window.$memberstackDom.logout());r(!0)}catch(e){await this.handleDispatchValidateSessionError(e)}else r("unauthenticated")}async handleDispatchValidateSessionError(e){if(e instanceof u)await window.$memberstackDom.logout({isExpired:!1});else{if(!(e instanceof c))throw console.error("[ValidateSession] Unexpected error:",e),e;await window.$memberstackDom.logout({isExpired:!0})}}}(S,V),H=new class{constructor(e,t,a,o,r){this.loginController=e,this.signupController=t,this.logoutController=a,this.validateSessionController=o,this.telemetryService=r}async login(e){try{const t=e.detail??void 0;await this.telemetryService.trackAsyncSpan({name:"auth/login",op:"auth.login"},async()=>await this.loginController.handleLogin(t))}catch(t){this.telemetryService.captureException({error:t,tags:{operation_name:"auth/login",feature:"auth"}})}}async signup(e){try{const[t,a]=e.detail??[];await this.telemetryService.trackAsyncSpan({name:"auth/signup",op:"auth.signup"},async()=>await this.signupController.handleSignup(t,a))}catch(t){this.telemetryService.captureException({error:t,tags:{operation_name:"auth/signup",feature:"auth"}})}}async logout(e){try{const{isExpired:t}=e.detail??{};await this.telemetryService.trackAsyncSpan({name:"auth/logout",op:"auth.logout"},async()=>await this.logoutController.handleLogout(t))}catch(t){this.telemetryService.captureException({error:t,tags:{operation_name:"auth/logout",feature:"auth"}})}}async emitValidateSessionStatus(){var e;if(e=location.href,A.some(t=>t.test(e)))console.log("Avoided verification on excluded page");else try{await this.telemetryService.trackAsyncSpan({name:"auth/validate",op:"auth.validate"},async()=>await this.validateSessionController.dispatchValidateSession())}catch(t){this.telemetryService.captureException({error:t,tags:{operation_name:"auth/validate",feature:"auth"}})}}}(J,j,G,z,window.telemetryBeacon);!async function(){let a=!1,r=!1,i=!1;async function s(){a&&r&&!i&&(i=!0,console.log("ordo auth init - both events ready"),await async function(){(function(a){if(!a)throw new Error("Memberstack instance is not defined");window._msConfig||(window._msConfig={preventLogin:!0,preventFormSubmission:!0,preventAutoLogin:!0}),window.$memberstackDom=new Proxy(a,{get(a,r){const i=a[r];return"function"==typeof i?async function(...s){if("loginMemberEmailPassword"!==r?console.log(`Method ${r} called with arguments: ${JSON.stringify(s)}`):console.log(`Method ${r} called with arguments: ${JSON.stringify(s[0].email)}, "password": "*****"`),"logout"===r){const t=new CustomEvent(e,{bubbles:!1,cancelable:!1,detail:s[0]});return document.dispatchEvent(t),!1}if("loginMemberEmailPassword"===r){const e=new CustomEvent(t,{bubbles:!1,cancelable:!1,detail:s[0]});return document.dispatchEvent(e),{data:{}}}if("loginWithProvider"===r){let e;try{e=await i.apply(a,s)}catch(n){throw n}const o=new CustomEvent(t,{bubbles:!1,cancelable:!1,detail:e});return document.dispatchEvent(o),e}if("signupWithProvider"===r){let e;const t=s[0],{paidPlan:r,...c}=t;try{e=await i.apply(a,[c])}catch(n){throw n}const d=new CustomEvent(o,{bubbles:!1,cancelable:!1,detail:[e,r]});return document.dispatchEvent(d),e}if("signupMemberEmailPassword"===r){let e;const t=s[0],{paidPlan:r,...c}=t;try{e=await i.apply(a,[c])}catch(n){throw n}const d=new CustomEvent(o,{bubbles:!1,cancelable:!1,detail:[e,r]});return document.dispatchEvent(d),e}if("getMemberCookie"===r){const e=await await i.apply(a,s);return String(e).toString()}return i.apply(a,s)}:i}})})(window.$memberstackDom),function(){const e=document.querySelector('[data-ordo-form="signup"]'),t=document.querySelector('[data-ms-form="signup"]');e&&M(v(e));t&&M(v(t));e||t||console.warn("no signup form found.");const a=document.querySelector('[data-ordo-form="login"]'),o=document.querySelector('[data-ms-form="login"]');a&&L(v(a));o&&L(v(o));a||o||console.warn("no login form found."),(document.querySelectorAll('[data-ordo-auth-provider="google"]').length?document.querySelectorAll('[data-ordo-auth-provider="google"]'):document.querySelectorAll('[data-ms-auth-provider="google"]')).forEach(e=>{e.addEventListener("click",t=>{const a=e.closest("[data-ordo-form]")||e.closest("[data-ms-form]");a&&(t.stopImmediatePropagation(),t.preventDefault(),"signup"===a.getAttribute("data-ms-form")?Promise.resolve().then(()=>I(a,{provider:"google"})):Promise.resolve().then(()=>b(0,{provider:"google"})))},!0)}),(document.querySelectorAll('[data-ordo-action="logout"]').length?document.querySelectorAll('[data-ordo-action="logout"]'):document.querySelectorAll('[data-ms-action="logout"]')).forEach(e=>{const t=e.cloneNode(!0);e.parentNode&&e.parentNode.replaceChild(t,e),t.addEventListener("click",async function(e){e.stopImmediatePropagation(),e.preventDefault(),await window.$memberstackDom.logout()},!0)})}();T(S.getMember()),await H.emitValidateSessionStatus()}())}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",async()=>{r=!0,await s()}):r=!0,window.$memberstackReady?(a=!0,await s()):document.addEventListener("memberstack.ready",async()=>{a=!0,await s()})}(),document.addEventListener(e,async e=>{await H.logout(e)}),document.addEventListener(t,async e=>{await H.login(e)},{capture:!0}),document.addEventListener(o,async e=>{await H.signup(e)},{capture:!0})}();
